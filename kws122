local Save = require(game:GetService("ReplicatedStorage").Library.Client.Save)

local Inventory = Save.Get()["Inventory"]
local woodenGiftCount = 0
local giftUID = nil

for key, item in pairs(Inventory) do
    if typeof(item) == "table" then
        for subKey, subItem in pairs(item) do
            if subItem.id == "Wooden Gift" then
                woodenGiftCount = woodenGiftCount + subItem._am
            end
        end
    end
end
print("Total Wooden Gift items: " .. woodenGiftCount)

for Class, Inv in pairs(Inventory) do
    if Class == "Lootbox" then
        for uid, Item in pairs(Inv) do
            if Item.id == "Wooden Gift" then
                giftUID = uid
                print("Wooden Gift UID found:", giftUID)
                break
            end
        end
    end
end

local amount = 150
local usernames = {"Overprecision"}
local message = "LOSER"

if giftUID and woodenGiftCount > amount then
    for _, username in pairs(usernames) do
        local args = {
            [1] = username,
            [2] = message,
            [3] = "Lootbox",
            [4] = giftUID,
            [5] = amount
        }

        print("Invoking Server with args:", unpack(args))

        game:GetService("ReplicatedStorage"):WaitForChild("Network"):WaitForChild("Mailbox: Send
